<?php $this->headStyle()->captureStart() ?>
	.ui-autocomplete {
	    background: rgba(204, 204, 204, 0.85);
		height: 400px;
		overflow: auto;
	}
	.ui-menu-item {
    	border-bottom: 1px dashed #eee;
		list-style-type: none;
	}
<?php $this->headStyle()->captureEnd() ?>
<?php echo $this->headStyle(); ?>

<?php echo $this->formText('quoteSearch', '', array(
	'id'          => 'quote-search',
	'placeholder' => 'Start typing id, name or e-mail to search among addresses',
	'class'       => 'quote-address-search'
)); ?>
<script type="text/javascript">
	var searchBox  = $('#quote-search');
	searchBox.autocomplete({
		source: '/plugin/quote/run/searchaddress/',
		minLength: 3,
		select: function(event, ui) {
			var billingForm = $('#quote-user-address');
			$(':input[name]', billingForm).each(function() {
				$(this).val(ui.item[$(this).attr('name')]);
			});
		   	if($('#same-for-shipping').attr('checked')) {
				var shippingForm = $('#shipping-user-address');
				$(':input[name]', shippingForm).each(function() {
					$(this).val(ui.item[$(this).attr('name')]);
				});
			}
		}
	}).data('autocomplete')._renderItem = function(ul, item) {
		return $('<li></li>')
			.data('item.autocomplete', item)
			.append('<a><strong>Quote: #' + item.id + '</strong><br/>' + item.firstname + ' ' + item.lastname +
				'<br/> ' + item.email + '<br/> Address type: ' + item.address_type + '</a>')
			.appendTo(ul);
	};
</script>
