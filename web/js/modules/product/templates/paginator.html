<div class="paginator" data-collection="<%= collection %>">
    <% if (_.isUndefined(pages)) { var pages = 5; } %>
    <% if (firstPage != currentPage) { %><a href="#" class="page" data-page="first">First</a><% } else { %><span>First</span><% } %>

    <% if (currentPage > firstPage) { %><a href="#" class="page" data-page="prev">Previous</a><% } %>

    <% if (currentPage - pages > firstPage) { %><span>...</span><% } %>

    <% for (var p = currentPage - pages; p <= currentPage + pages; p++) { %>
        <% if (p < firstPage || p > lastPage) continue; %>
        <% if (currentPage == p) { %>
            <span class="page selected"><%= p %></span>
        <% } else { %>
            <a href="#" class="page" data-page="<%= p %>"><%= p %></a>
        <% } %>
    <% } %>

    <% if (currentPage + pages < lastPage) { %><span>...</span><% } %>

    <% if (currentPage < totalPages) { %><a href="#" class="page" data-page="next">Next</a><% } %>
    <% if (lastPage != currentPage) { %><a href="#" class="page" data-page="last">Last</a><% } else { %><span>Last</span> <% } %>
</div>